import"./main.1e029260.js";import"./bootstrap.esm.42a4b9c6.js";let n=0,m=1,g=3,d=!1,L={0:"bg-primary",1:"bg-info"},y=[],s=[],u=[],f=5,i=5,E=[10,9,7,5,4,0,0,0,0],a=document.getElementById("buttons"),b=document.getElementById("match");function H(t){t.classList.remove("bg-primary"),t.classList.remove("bg-info")}function T(t){t.classList.remove("row-cols-1"),t.classList.remove("row-cols-2"),t.classList.remove("row-cols-3"),t.classList.remove("row-cols-4"),t.classList.remove("row-cols-5"),t.classList.remove("row-cols-6")}function v(t,e){H(t),s[e-1]=s[e-1]==0&&1||0,t.classList.add(L[s[e-1]]),t.innerHTML=s[e-1]==0&&"X"||"O"}function S(t){document.getElementById("lives").innerHTML="Lives: "+g;var e=Number(t.split("bt").pop());if(v(document.getElementById("bt"+e.toString()),e),e-1>0&&(e-1)%f!=0&&v(document.getElementById("bt"+(e-1).toString()),e-1),e+1<=s.length&&e%f!=0&&v(document.getElementById("bt"+(e+1).toString()),e+1),e-i>0&&v(document.getElementById("bt"+(e-i).toString()),e-i),e+i<=s.length&&v(document.getElementById("bt"+(e+i).toString()),e+i),d==!0){u.push(e),m--,document.getElementById("attempts").innerHTML=m.toString();for(var r=0,o=0;o<f*i;o++)y[o]==s[o]&&r++;if(r>=f*i){setTimeout(()=>{alert("Correct!"),n++,u=[],g=3,w()},400);return}if(m<=0){d=!1;for(var l=0;l<f*i;l++)if(y[l]!=s[l]){setTimeout(()=>{for(alert("Incorrect actions made. Re-starting the lights."),d=!1;u.length>0;){var p="bt"+u[u.length-1];S(p),u.pop(),m++}if(document.getElementById("attempts").innerHTML=m.toString(),g--,document.getElementById("lives").innerHTML="Lives: "+g,g<=0){x();return}d=!0},400);return}alert("Correct!")}}}function w(){document.getElementById("score").innerHTML="Score: "+n;let t=25,e=4,r=5,o=5,l=1;n>=20?(t=36,r=6,o=6,l=4):n>=15?(t=36,r=6,o=6,l=3):n>=10?l=3:n>=5&&(l=2),a.innerHTML="",b.innerHTML="";var p="";T(a);for(var h=0;h<t;h++)s[h]=Math.floor(Math.random()*2),y[h]=s[h];f=r,i=o,a.classList.add("row-cols-"+o),b.classList.add("row-cols-"+o);for(var c=1;c<=t;c++)p=`<button type="button" class="fs-1 btn ${L[s[c-1]]} py-${e} bt" id="bt${c}">${s[c-1]==0&&"X"||"O"}</button>`,a.insertAdjacentHTML("beforeend",p),b.innerHTML+=`<div class="${L[s[c-1]]} px-3 py-3 rounded" id="m${c}"></div>`;document.querySelectorAll(".bt").forEach(function(M){M.onclick=function(){S(M.id)}}),d=!1;for(var I=1;I<=l;I++)S("bt"+(Math.floor(Math.random()*t)+1));m=l,document.getElementById("attempts").innerHTML=m.toString(),g=3,d=!0}function x(){d=!1,T(a),a.classList.add("row-cols-"+1),a.innerHTML='<div class="text-center fs-1">Game Over</div>',b.innerHTML="",alert("All lives have been used up. You got a score of "+n+"."),$()}function $(){let t=B();t.sort(function(e,r){return e-r}),t.reverse();for(let e of t)if(n>=e){if(t.push(n),t.sort(function(r,o){return r-o}),t.reverse(),t.length>9)for(;t.length>9;)t.pop();localStorage.setItem("LightScores",JSON.stringify(t));break}k()}function B(){return localStorage.getItem("LightScores")&&localStorage.getItem("LightScores")!="[]"?JSON.parse(localStorage.getItem("LightScores")):E}function k(){let t=B(),e=`
    <div class="fs-1">Game Over</div>
    <button type="button" class="w-75 w-lg-50 mx-auto fs-1 btn bg-dark text-light" id="reload">
        Play Again
    </button>
    <h3 class="mt-3">High Scores:</h3>
    <div class="card p-0 mx-auto" style="width: 18rem;">
        <div class="card-header bg-primary text-light">
            Light Switch
        </div>
        <ul class="list-group list-group-flush">`,r=1;for(let o of t)o==n?e+=`<li class="list-group-item text-primary">${r}. ${o}</li>`:e+=`<li class="list-group-item">${r}. ${o}</li>`,r++;e+='</ul></div><br><a href="./index.html" class="btn btn-info my-3">Return to home page</a>',a.innerHTML=e,document.getElementById("reload").onclick=function(){location.reload()}}alert("Set the lights on the bottom to match the top. Every square clicked also toggles the 4 surrounding squares.");w();
